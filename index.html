<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Nombre de jours entre deux dates</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #fff8cc;
}

.box {
  background: #eaffd0;
  padding: 15px;
  width: 700px;
  border: 2px solid green;
}

select, button {
  margin: 4px;
}

#res {
  margin-top: 15px;
  font-weight: bold;
}
</style>
</head>

<body>

<h2>Nombre de jours entre deux dates</h2>
<p>
Cet outil permet de calculer lâ€™intervalle entre deux dates.
</p>

<div class="box">

<b>Date de dÃ©but :</b><br>
Jour
<select id="j1"></select>
Mois
<select id="m1"></select>
AnnÃ©e
<select id="a1"></select>

<br><br>

<b>Date de fin :</b><br>
Jour
<select id="j2"></select>
Mois
<select id="m2"></select>
AnnÃ©e
<select id="a2"></select>

<br><br>

<button onclick="calculer()">Calculer</button>

<p id="res"></p>

</div>

<script>
// ---------------- DONNÃ‰ES ----------------
const moisNoms = [
  "Janvier","FÃ©vrier","Mars","Avril","Mai","Juin",
  "Juillet","AoÃ»t","Septembre","Octobre","Novembre","DÃ©cembre"
];

// ---------------- REMPLISSAGE ----------------
function remplirSelect(id, min, max, valeur=null) {
  const s = document.getElementById(id);
  s.innerHTML = "";
  for (let i = min; i <= max; i++) {
    const o = document.createElement("option");
    o.value = i;
    o.text = i;
    if (i === valeur) o.selected = true;
    s.appendChild(o);
  }
}

function remplirMois(id) {
  const s = document.getElementById(id);
  s.innerHTML = "";
  moisNoms.forEach((m, i) => {
    const o = document.createElement("option");
    o.value = i;
    o.text = m;
    s.appendChild(o);
  });
}

// ---------------- INITIALISATION ----------------
const anneeActuelle = new Date().getFullYear();

remplirSelect("j1", 1, 31);
remplirSelect("j2", 1, 31);

remplirMois("m1");
remplirMois("m2");

/* ðŸ”´ ANNÃ‰ES NON LIMITÃ‰ES */
remplirSelect("a1", 1900, anneeActuelle + 50, anneeActuelle);
remplirSelect("a2", 1900, anneeActuelle + 50, anneeActuelle);

// ---------------- CALCUL ----------------
function calculer() {

  const d1 = new Date(
    document.getElementById("a1").value,
    document.getElementById("m1").value,
    document.getElementById("j1").value
  );

  const d2 = new Date(
    document.getElementById("a2").value,
    document.getElementById("m2").value,
    document.getElementById("j2").value
  );

  if (d2 < d1) {
    res.innerText = "La date de fin doit Ãªtre postÃ©rieure Ã  la date de dÃ©but.";
    return;
  }

  const diffJours = Math.floor((d2 - d1) / (1000 * 60 * 60 * 24));
  const diffAnnees = Math.floor(diffJours / 365.25);

  res.innerText =
    "Entre le " +
    j1.value + " " + moisNoms[m1.value] + " " + a1.value +
    " et le " +
    j2.value + " " + moisNoms[m2.value] + " " + a2.value +
    ", il s'est Ã©coulÃ© " +
    diffJours + " jours soit " +
    diffAnnees + " ans.";
}
</script>

</body>
</html>
