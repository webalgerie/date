<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Calcul entre deux dates</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #fff8cc;
}

.box {
  background: #eaffd0;
  padding: 15px;
  width: 700px;
  border: 2px solid green;
}

select, button {
  margin: 4px;
}

#res {
  margin-top: 15px;
  font-weight: bold;
  line-height: 1.6;
}
</style>
</head>

<body>

<h2>Nombre de jours entre deux dates</h2>
<p>
Cet outil permet de calculer l’intervalle entre deux dates.
</p>

<div class="box">

<b>Date de début :</b><br>
Jour
<select id="j1"></select>
Mois
<select id="m1"></select>
Année
<select id="a1"></select>

<br><br>

<b>Date de fin :</b><br>
Jour
<select id="j2"></select>
Mois
<select id="m2"></select>
Année
<select id="a2"></select>

<br><br>

<button onclick="calculer()">Calculer</button>

<p id="res"></p>

</div>

<script>
// ---------------- DONNÉES ----------------
const moisNoms = [
  "Janvier","Février","Mars","Avril","Mai","Juin",
  "Juillet","Août","Septembre","Octobre","Novembre","Décembre"
];

// ---------------- REMPLISSAGE ----------------
function remplirSelect(id, min, max, valeur=null) {
  const s = document.getElementById(id);
  s.innerHTML = "";
  for (let i = min; i <= max; i++) {
    const o = document.createElement("option");
    o.value = i;
    o.text = i;
    if (i === valeur) o.selected = true;
    s.appendChild(o);
  }
}

function remplirMois(id) {
  const s = document.getElementById(id);
  s.innerHTML = "";
  moisNoms.forEach((m, i) => {
    const o = document.createElement("option");
    o.value = i;
    o.text = m;
    s.appendChild(o);
  });
}

// ---------------- INITIALISATION ----------------
const anneeActuelle = new Date().getFullYear();

remplirSelect("j1", 1, 31);
remplirSelect("j2", 1, 31);

remplirMois("m1");
remplirMois("m2");

/* Années sans limite à 2000 */
remplirSelect("a1", 1900, anneeActuelle + 50, anneeActuelle);
remplirSelect("a2", 1900, anneeActuelle + 50, anneeActuelle);

// ---------------- CALCUL ----------------
function calculer() {

  const d1 = new Date(a1.value, m1.value, j1.value);
  const d2 = new Date(a2.value, m2.value, j2.value);

  if (d2 < d1) {
    res.innerText = "La date de fin doit être postérieure à la date de début.";
    return;
  }

  const diffJours = Math.floor((d2 - d1) / (1000 * 60 * 60 * 24));
  const diffMois = Math.floor(diffJours / 30.4375);   // moyenne
  const diffAnnees = Math.floor(diffJours / 365.25); // moyenne

  res.innerHTML =
    "Entre le " +
    j1.value + " " + moisNoms[m1.value] + " " + a1.value +
    " et le " +
    j2.value + " " + moisNoms[m2.value] + " " + a2.value +
    " :<br><br>" +
    "➡️ <b>" + diffJours + "</b> jours<br>" +
    "➡️ <b>" + diffMois + "</b> mois<br>" +
    "➡️ <b>" + diffAnnees + "</b> années";
}
</script>

</body>
</html>
